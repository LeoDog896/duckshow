var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(e){let t;return s(e,(e=>t=e))(),t}function l(e,t,n){e.$$.on_destroy.push(s(t,n))}function u(e){return null==e?"":e}function c(e,t,n){return e.set(n),t}function d(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function h(e){return document.createTextNode(e)}function b(){return h(" ")}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){e.value=null==t?"":t}function y(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let k;function x(e){k=e}const A=[],_=[],w=[],E=[],O=Promise.resolve();let N=!1;function C(e){w.push(e)}let D=!1;const R=new Set;function j(){if(!D){D=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];x(t),G(t.$$)}for(x(null),A.length=0;_.length;)_.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];R.has(t)||(R.add(t),t())}w.length=0}while(A.length);for(;E.length;)E.pop()();N=!1,D=!1,R.clear()}}function G(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const I=new Set;function K(e,t){e&&e.i&&(I.delete(e),e.i(t))}function P(e,n,a,s){const{fragment:i,on_mount:l,on_destroy:u,after_update:c}=e.$$;i&&i.m(n,a),s||C((()=>{const n=l.map(t).filter(r);u?u.push(...n):o(n),e.$$.on_mount=[]})),c.forEach(C)}function T(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&(A.push(e),N||(N=!0,O.then(j)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function L(t,r,a,s,i,l,u,c=[-1]){const d=k;x(t);const m=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:c,skip_bound:!1,root:r.target||d.$$.root};u&&u(m.root);let p=!1;if(m.ctx=a?a(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),p&&B(t,e)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!s&&s(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();r.intro&&K(t.$$.fragment),P(t,r.target,r.anchor,r.customElement),j()}x(d)}class M{$destroy(){T(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const U=[];function S(t,n=e){let o;const r=new Set;function s(e){if(a(t,e)&&(t=e,o)){const e=!U.length;for(const e of r)e[1](),U.push(e,t);if(e){for(let e=0;e<U.length;e+=2)U[e][0](U[e+1]);U.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,i=e){const l=[a,i];return r.add(l),1===r.size&&(o=n(s)||e),a(t),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}const z=e=>fetch(e).then((e=>e.json()));var F;!function(e){e.FOX="fox",e.BUNNY="bunny",e.DOG="dog",e.DUCK="duck",e.CAT="cat",e.RACCOON="raccoon",e.KANGAROO="kangaroo",e.BIRD="bird",e.PANDA="panda",e.KOALA="koala",e.RED_PANDA="red panda",e.GENERIC="generic"}(F||(F={}));let X=S([{name:F.FOX,url:()=>z("https://randomfox.ca/floof/").then((e=>e.image)),enabled:!0,provider:"https://randomfox.ca/"},{name:F.BUNNY,url:()=>z("https://api.bunnies.io/v2/loop/random/?media=gif").then((e=>e.media.gif)),enabled:!0,provider:"https://www.bunnies.io/"},{name:F.DOG,url:()=>z("https://dog.ceo/api/breeds/image/random").then((e=>e.message)),enabled:!0,provider:"https://dog.ceo"},{name:F.DUCK,url:async()=>"https://random-d.uk/api/randomimg?"+new Date,enabled:!0,provider:"https://random-d.uk/"},{name:F.CAT,url:async()=>"https://cataas.com/cat?"+new Date,enabled:!0,provider:"https://cataas.com/"},{name:F.RACCOON,url:()=>z("https://some-random-api.ml/img/raccoon").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.KANGAROO,url:()=>z("https://some-random-api.ml/img/kangaroo").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.BIRD,url:()=>z("https://some-random-api.ml/img/birb").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.PANDA,url:()=>z("https://some-random-api.ml/img/panda").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.KOALA,url:()=>z("https://some-random-api.ml/img/koala").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.RED_PANDA,url:()=>z("https://some-random-api.ml/img/red_panda").then((e=>e.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:F.GENERIC,url:async()=>"https://picsum.photos/500/600?"+new Date,enabled:!1,provider:"https://picsum.photos/"}]);const Y=S(3),q=function(t,n,a){const i=!Array.isArray(t),l=i?[t]:t,u=n.length<2;return c=t=>{let a=!1;const c=[];let d=0,m=e;const f=()=>{if(d)return;m();const o=n(i?c[0]:c,t);u?t(o):m=r(o)?o:e},p=l.map(((e,t)=>s(e,(e=>{c[t]=e,d&=~(1<<t),a&&f()}),(()=>{d|=1<<t}))));return a=!0,f(),function(){o(p),m()}},{subscribe:S(a,c).subscribe};var c}(Y,(e=>Math.max(Math.min(1e3*e,6e4),500))),H=S([]);H.subscribe((e=>e.forEach((e=>{(new Image).src=e.url}))));const J=async()=>{const e=i(X).filter((e=>e.enabled));if(0==e.length)return{url:"https://picsum.photos/500/600.webp?blur=1",name:F.GENERIC};const t=e[~~(Math.random()*e.length)];return{name:t.name,url:await t.url()}},Q=S({name:F.GENERIC,url:"https://picsum.photos/500/600.webp?blur=1"});let V;async function W(){Q.set(await(async()=>{const e=i(X).filter((e=>e.enabled)).map((e=>e.name)),t=i(H).filter((t=>e.includes(t.name)));return t.length>0?(H.set(i(H).filter(((e,t)=>0!=t))),t[0]):J()})()),(async()=>{H.set([...i(H),await J()])})(),V=setTimeout(W,i(q))}function Z(e,t,n){const o=e.slice();return o[8]=t[n],o[9]=t,o[10]=n,o}function ee(e){let t,n,r,a,s,i,l,c=e[8].name+"";function b(){return e[5](e[8],e[9],e[10])}function v(...t){return e[6](e[10],...t)}return{c(){t=p("div"),n=p("span"),r=h(c),$(n,"tabindex",a=e[10]+1),$(n,"class",s=u(e[8].enabled?"enabled":"disabled")+" svelte-173e6u6"),$(t,"class","source svelte-173e6u6")},m(e,o){m(e,t,o),d(t,n),d(n,r),i||(l=[g(n,"click",b),g(n,"keydown",v)],i=!0)},p(t,o){e=t,1&o&&c!==(c=e[8].name+"")&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(r,c),1&o&&s!==(s=u(e[8].enabled?"enabled":"disabled")+" svelte-173e6u6")&&$(n,"class",s)},d(e){e&&f(t),i=!1,o(l)}}}function te(t){let n,r,a,s,i,l,u,c,y,k,x,A,_,w,E,O=t[3]()?"enable":"disable",N=t[0],C=[];for(let e=0;e<N.length;e+=1)C[e]=ee(Z(t,N,e));return{c(){n=p("div");for(let e=0;e<C.length;e+=1)C[e].c();r=b(),a=p("span"),s=h("("),i=h(O),l=h(" all)"),c=b(),y=p("label"),k=p("input"),A=b(),_=p("span"),_.textContent="s",$(a,"tabindex",u=t[0].length+1),$(a,"class","svelte-173e6u6"),$(k,"tabindex",x=t[0].length+2),$(k,"class","svelte-173e6u6"),$(_,"class","svelte-173e6u6"),$(n,"id","settings"),$(n,"class","svelte-173e6u6")},m(e,o){m(e,n,o);for(let e=0;e<C.length;e+=1)C[e].m(n,null);d(n,r),d(n,a),d(a,s),d(a,i),d(a,l),d(n,c),d(n,y),d(y,k),v(k,t[1]),d(y,A),d(y,_),w||(E=[g(a,"click",t[4]),g(k,"input",t[7])],w=!0)},p(e,[t]){if(5&t){let o;for(N=e[0],o=0;o<N.length;o+=1){const a=Z(e,N,o);C[o]?C[o].p(a,t):(C[o]=ee(a),C[o].c(),C[o].m(n,r))}for(;o<C.length;o+=1)C[o].d(1);C.length=N.length}1&t&&u!==(u=e[0].length+1)&&$(a,"tabindex",u),1&t&&x!==(x=e[0].length+2)&&$(k,"tabindex",x),2&t&&k.value!==e[1]&&v(k,e[1])},i:e,o:e,d(e){e&&f(n),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(C,e),w=!1,o(E)}}}function ne(e,t,n){let o,r;function a(e,t){"Enter"==e.key&&e.shiftKey?c(X,o=o.map((e=>e==o[t]?Object.assign({},e,{enabled:!0}):Object.assign({},e,{enabled:!1}))),o):"Enter"==e.key&&c(X,o[t].enabled=!o[t].enabled,o)}function s(){return o.filter((e=>e.enabled)).length!=o.length}l(e,X,(e=>n(0,o=e))),l(e,Y,(e=>n(1,r=e)));return[o,r,a,s,function(){s()?c(X,o=o.map((e=>Object.assign({},e,{enabled:!0}))),o):c(X,o=o.map((e=>Object.assign({},e,{enabled:!1}))),o)},(e,t,n)=>c(X,t[n].enabled=!e.enabled,o),(e,t)=>a(t,e),function(){r=this.value,Y.set(r)}]}q.subscribe((e=>{void 0!==V&&clearTimeout(V),V=setTimeout(W,e)})),W();class oe extends M{constructor(e){super(),L(this,e,ne,te,a,{})}}function re(e){let t,n,o,r;return o=new oe({}),{c(){var r;t=p("div"),n=b(),(r=o.$$.fragment)&&r.c(),$(t,"id","bigParent"),y(t,"background-image","url('"+e[0].url+"')"),$(t,"class","svelte-w042ym")},m(e,a){m(e,t,a),m(e,n,a),P(o,e,a),r=!0},p(e,[n]){(!r||1&n)&&y(t,"background-image","url('"+e[0].url+"')")},i(e){r||(K(o.$$.fragment,e),r=!0)},o(e){!function(e,t,n,o){if(e&&e.o){if(I.has(e))return;I.add(e),(void 0).c.push((()=>{I.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}(o.$$.fragment,e),r=!1},d(e){e&&f(t),e&&f(n),T(o,e)}}}function ae(e,t,n){let o;return l(e,Q,(e=>n(0,o=e))),[o]}return new class extends M{constructor(e){super(),L(this,e,ae,re,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
