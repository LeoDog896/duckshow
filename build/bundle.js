var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(t){let e;return s(t,(t=>e=t))(),e}function c(t,e,n){t.$$.on_destroy.push(s(e,n))}function l(t,e,n){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){t.value=null==e?"":e}function y(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let x;function k(t){x=t}const v=[],w=[],A=[],_=[],E=Promise.resolve();let N=!1;function O(t){A.push(t)}const C=new Set;let D=0;function R(){const t=x;do{for(;D<v.length;){const t=v[D];D++,k(t),G(t.$$)}for(k(null),v.length=0,D=0;w.length;)w.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];C.has(e)||(C.add(e),e())}A.length=0}while(v.length);for(;_.length;)_.pop()();N=!1,C.clear(),k(t)}function G(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const I=new Set;function K(t,e){t&&t.i&&(I.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),undefined.c.push((()=>{I.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function j(t){t&&t.c()}function P(t,n,a,s){const{fragment:i,on_mount:c,on_destroy:l,after_update:u}=t.$$;i&&i.m(n,a),s||O((()=>{const n=c.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(O)}function B(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(v.push(t),N||(N=!0,E.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(e,r,a,s,i,c,l,u=[-1]){const d=x;k(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||d.$$.root};l&&l(f.root);let p=!1;if(f.ctx=a?a(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&L(e,t)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();r.intro&&K(e.$$.fragment),P(e,r.target,r.anchor,r.customElement),R()}k(d)}class U{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const S=[];function z(e,n=t){let o;const r=new Set;function s(t){if(a(e,t)&&(e=t,o)){const t=!S.length;for(const t of r)t[1](),S.push(t,e);if(t){for(let t=0;t<S.length;t+=2)S[t][0](S[t+1]);S.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(a,i=t){const c=[a,i];return r.add(c),1===r.size&&(o=n(s)||t),a(e),()=>{r.delete(c),0===r.size&&(o(),o=null)}}}}const F=t=>fetch(t).then((t=>t.json()));var X;!function(t){t.FOX="fox",t.BUNNY="bunny",t.DOG="dog",t.DUCK="duck",t.CAT="cat",t.RACCOON="raccoon",t.KANGAROO="kangaroo",t.BIRD="bird",t.PANDA="panda",t.KOALA="koala",t.RED_PANDA="red panda",t.GENERIC="generic"}(X||(X={}));let Y=z([{name:X.FOX,url:()=>F("https://randomfox.ca/floof/").then((t=>t.image)),enabled:!0,provider:"https://randomfox.ca/"},{name:X.BUNNY,url:()=>F("https://api.bunnies.io/v2/loop/random/?media=gif").then((t=>t.media.gif)),enabled:!0,provider:"https://www.bunnies.io/"},{name:X.DOG,url:()=>F("https://dog.ceo/api/breeds/image/random").then((t=>t.message)),enabled:!0,provider:"https://dog.ceo"},{name:X.DUCK,url:async()=>"https://random-d.uk/api/randomimg?"+new Date,enabled:!0,provider:"https://random-d.uk/"},{name:X.CAT,url:async()=>"https://cataas.com/cat?"+new Date,enabled:!0,provider:"https://cataas.com/"},{name:X.RACCOON,url:()=>F("https://some-random-api.ml/img/raccoon").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.KANGAROO,url:()=>F("https://some-random-api.ml/img/kangaroo").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.BIRD,url:()=>F("https://some-random-api.ml/img/birb").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.PANDA,url:()=>F("https://some-random-api.ml/img/panda").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.KOALA,url:()=>F("https://some-random-api.ml/img/koala").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.RED_PANDA,url:()=>F("https://some-random-api.ml/img/red_panda").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:X.GENERIC,url:async()=>"https://picsum.photos/500/600?"+new Date,enabled:!1,provider:"https://picsum.photos/"}]);const q=z(3),H=function(e,n,a){const i=!Array.isArray(e),c=i?[e]:e,l=n.length<2;return u=e=>{let a=!1;const u=[];let d=0,m=t;const f=()=>{if(d)return;m();const o=n(i?u[0]:u,e);l?e(o):m=r(o)?o:t},p=c.map(((t,e)=>s(t,(t=>{u[e]=t,d&=~(1<<e),a&&f()}),(()=>{d|=1<<e}))));return a=!0,f(),function(){o(p),m()}},{subscribe:z(a,u).subscribe};var u}(q,(t=>Math.max(Math.min(1e3*t,6e4),500))),J=z([]);J.subscribe((t=>t.forEach((t=>{(new Image).src=t.url}))));const Q=async()=>{const t=i(Y).filter((t=>t.enabled));if(0==t.length)return{url:"https://picsum.photos/500/600.webp?blur=1",name:X.GENERIC};const e=t[~~(Math.random()*t.length)];return{name:e.name,url:await e.url()}},V=z({name:X.GENERIC,url:"https://picsum.photos/500/600.webp?blur=1"});let W;function Z(){W=setTimeout((async()=>{V.set(await(async()=>{const t=i(Y).filter((t=>t.enabled)).map((t=>t.name)),e=i(J).filter((e=>t.includes(e.name)));return e.length>0?(J.set(i(J).filter(((t,e)=>0!=e))),e[0]):Q()})()),(async()=>{J.set([...i(J),await Q()])})(),Z()}),i(H))}H.subscribe((t=>{void 0!==W&&clearTimeout(W),W=setTimeout(Z,t)}));class tt extends U{constructor(t){super(),M(this,t,null,null,a,{})}}function et(t,e,n){const o=t.slice();return o[9]=e[n],o[10]=e,o[11]=n,o}function nt(t){let e,n,r,a,s,i,c,l=t[9].name+"";function h(){return t[5](t[9],t[10],t[11])}function $(...e){return t[6](t[11],...e)}return{c(){e=f("div"),n=f("span"),r=p(l),g(n,"tabindex",a=t[11]+1),g(n,"class",s="select-none "+(t[9].enabled?"text-white":"text-gray-300")),g(e,"class","text-white cursor-pointer inline-block m-2")},m(t,o){d(t,e,o),u(e,n),u(n,r),i||(c=[b(n,"click",h),b(n,"keydown",$)],i=!0)},p(e,o){t=e,1&o&&l!==(l=t[9].name+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(r,l),1&o&&s!==(s="select-none "+(t[9].enabled?"text-white":"text-gray-300"))&&g(n,"class",s)},d(t){t&&m(e),i=!1,o(c)}}}function ot(e){let n,r,a,s,i,c,l,y,x,k,v,w,A,_,E,N=e[3]()?"enable":"disable",O=e[0],C=[];for(let t=0;t<O.length;t+=1)C[t]=nt(et(e,O,t));return{c(){n=f("div");for(let t=0;t<C.length;t+=1)C[t].c();r=h(),a=f("span"),s=p("("),i=p(N),c=p(" all)"),y=h(),x=f("label"),k=f("input"),w=h(),A=f("span"),A.textContent="s",g(a,"tabindex",l=e[0].length+1),g(a,"class","select-none text-white"),g(k,"class","rounded-sm"),g(k,"tabindex",v=e[0].length+2),g(A,"class","select-none"),g(n,"class","fixed rounded-md top-3 text-center w-9/12 bg-gray-900 shadow-lg inset-x-0 mx-auto bg-opacity-75 backdrop-blur-md")},m(t,o){d(t,n,o);for(let t=0;t<C.length;t+=1)C[t].m(n,null);u(n,r),u(n,a),u(a,s),u(a,i),u(a,c),u(n,y),u(n,x),u(x,k),$(k,e[1]),u(x,w),u(x,A),_||(E=[b(a,"click",e[4]),b(a,"keydown",e[7]),b(k,"input",e[8])],_=!0)},p(t,[e]){if(5&e){let o;for(O=t[0],o=0;o<O.length;o+=1){const a=et(t,O,o);C[o]?C[o].p(a,e):(C[o]=nt(a),C[o].c(),C[o].m(n,r))}for(;o<C.length;o+=1)C[o].d(1);C.length=O.length}1&e&&l!==(l=t[0].length+1)&&g(a,"tabindex",l),1&e&&v!==(v=t[0].length+2)&&g(k,"tabindex",v),2&e&&k.value!==t[1]&&$(k,t[1])},i:t,o:t,d(t){t&&m(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(C,t),_=!1,o(E)}}}function rt(t,e,n){let o,r;function a(t,e){if("Enter"==t.key&&t.shiftKey){const t=o[e].enabled;l(Y,o=o.map((e=>Object.assign({},e,{enabled:t}))),o)}"Enter"==t.key&&l(Y,o[e].enabled=!o[e].enabled,o)}c(t,Y,(t=>n(0,o=t))),c(t,q,(t=>n(1,r=t)));const s=()=>!o.every((t=>t.enabled)),i=()=>{l(Y,o=o.map((t=>Object.assign({},t,{enabled:s()}))),o)};return[o,r,a,s,i,(t,e,n)=>l(Y,e[n].enabled=!t.enabled,o),(t,e)=>a(e,t),t=>{"Enter"==t.key&&i()},function(){r=this.value,q.set(r)}]}class at extends U{constructor(t){super(),M(this,t,rt,ot,a,{})}}function st(t){let e,n,o,r,a,s;return e=new tt({}),a=new at({}),{c(){j(e.$$.fragment),n=h(),o=f("div"),r=h(),j(a.$$.fragment),g(o,"class","fixed w-screen h-screen bg-contain bg-no-repeat bg-center bg-gray-500"),y(o,"background-image","url('"+t[0].url+"')")},m(t,i){P(e,t,i),d(t,n,i),d(t,o,i),d(t,r,i),P(a,t,i),s=!0},p(t,[e]){(!s||1&e)&&y(o,"background-image","url('"+t[0].url+"')")},i(t){s||(K(e.$$.fragment,t),K(a.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),T(a.$$.fragment,t),s=!1},d(t){B(e,t),t&&m(n),t&&m(o),t&&m(r),B(a,t)}}}function it(t,e,n){let o;return c(t,V,(t=>n(0,o=t))),[o]}return new class extends U{constructor(t){super(),M(this,t,it,st,a,{})}}({target:document.body})}();
