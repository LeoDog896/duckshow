var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function s(t){let e;return i(t,(t=>e=t))(),e}function l(t,e,n){t.$$.on_destroy.push(i(e,n))}function c(t,e,n){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){t.value=null==e?"":e}function v(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let w;function $(t){w=t}const x=[],E=[],A=[],k=[],N=Promise.resolve();let D=!1;function C(t){A.push(t)}const G=new Set;let _=0;function R(){const t=w;do{for(;_<x.length;){const t=x[_];_++,$(t),O(t.$$)}for($(null),x.length=0,_=0;E.length;)E.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];G.has(e)||(G.add(e),e())}A.length=0}while(x.length);for(;k.length;)k.pop()();D=!1,G.clear(),$(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const M=new Set;function S(t,e){t&&t.i&&(M.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),undefined.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function I(t){t&&t.c()}function B(t,n,a,i){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,a),i||C((()=>{const n=l.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(C)}function P(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&(x.push(t),D||(D=!0,N.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,r,a,i,s,l,c,u=[-1]){const d=w;$(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||d.$$.root};c&&c(h.root);let p=!1;if(h.ctx=a?a(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&j(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!i&&i(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(f)}else h.fragment&&h.fragment.c();r.intro&&S(e.$$.fragment),B(e,r.target,r.anchor,r.customElement),R()}$(d)}class K{$destroy(){P(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];function Y(e,n=t){let o;const r=new Set;function i(t){if(a(e,t)&&(e=t,o)){const t=!X.length;for(const t of r)t[1](),X.push(t,e);if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,s=t){const l=[a,s];return r.add(l),1===r.size&&(o=n(i)||t),a(e),()=>{r.delete(l),0===r.size&&(o(),o=null)}}}}const z=t=>fetch(t).then((t=>t.json()));var U;!function(t){t.FOX="fox",t.BUNNY="bunny",t.DOG="dog",t.DUCK="duck",t.CAT="cat",t.RACCOON="raccoon",t.KANGAROO="kangaroo",t.BIRD="bird",t.PANDA="panda",t.KOALA="koala",t.RED_PANDA="red panda",t.GENERIC="generic"}(U||(U={}));let q=Y([{name:U.FOX,url:()=>z("https://randomfox.ca/floof/").then((t=>t.image)),enabled:!0,provider:"https://randomfox.ca/"},{name:U.BUNNY,url:()=>z("https://api.bunnies.io/v2/loop/random/?media=gif").then((t=>t.media.gif)),enabled:!0,provider:"https://www.bunnies.io/"},{name:U.DOG,url:()=>z("https://dog.ceo/api/breeds/image/random").then((t=>t.message)),enabled:!0,provider:"https://dog.ceo"},{name:U.DUCK,url:async()=>"https://random-d.uk/api/randomimg?"+new Date,enabled:!0,provider:"https://random-d.uk/"},{name:U.CAT,url:async()=>"https://cataas.com/cat?"+new Date,enabled:!0,provider:"https://cataas.com/"},{name:U.RACCOON,url:()=>z("https://some-random-api.ml/img/raccoon").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.KANGAROO,url:()=>z("https://some-random-api.ml/img/kangaroo").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.BIRD,url:()=>z("https://some-random-api.ml/img/birb").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.PANDA,url:()=>z("https://some-random-api.ml/img/panda").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.KOALA,url:()=>z("https://some-random-api.ml/img/koala").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.RED_PANDA,url:()=>z("https://some-random-api.ml/img/red_panda").then((t=>t.link)),enabled:!0,provider:"https://some-random-api.ml/"},{name:U.GENERIC,url:async()=>"https://picsum.photos/500/600?"+new Date,enabled:!1,provider:"https://picsum.photos/"}]);const H=Y(3),F=function(e,n,a){const s=!Array.isArray(e),l=s?[e]:e,c=n.length<2;return u=e=>{let a=!1;const u=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(s?u[0]:u,e);c?e(o):f=r(o)?o:t},p=l.map(((t,e)=>i(t,(t=>{u[e]=t,d&=~(1<<e),a&&h()}),(()=>{d|=1<<e}))));return a=!0,h(),function(){o(p),f()}},{subscribe:Y(a,u).subscribe};var u}(H,(t=>Math.max(Math.min(1e3*t,6e4),500))),W=Y([]);W.subscribe((t=>t.forEach((t=>{(new Image).src=t.url}))));const J=async()=>{const t=s(q).filter((t=>t.enabled));if(0==t.length)return{url:"https://picsum.photos/500/600.webp?blur=1",name:U.GENERIC};const e=t[~~(Math.random()*t.length)];return{name:e.name,url:await e.url()}},Q=Y({name:U.GENERIC,url:"https://picsum.photos/500/600.webp?blur=1"});let V;function Z(){V=setTimeout((async()=>{Q.set(await(async()=>{const t=s(q).filter((t=>t.enabled)).map((t=>t.name)),e=s(W).filter((e=>t.includes(e.name)));return e.length>0?(W.set(s(W).filter(((t,e)=>0!=e))),e[0]):J()})()),(async()=>{W.set([...s(W),await J()])})(),Z()}),s(F))}F.subscribe((t=>{void 0!==V&&clearTimeout(V),V=setTimeout(Z,t)}));class tt extends K{constructor(t){super(),T(this,t,null,null,a,{})}}function et(t,e,n,o){var r,a=null==(r=o)||"number"==typeof r||"boolean"==typeof r?o:n(o),i=e.get(a);return void 0===i&&(i=t.call(this,o),e.set(a,i)),i}function nt(t,e,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),a=e.get(r);return void 0===a&&(a=t.apply(this,o),e.set(r,a)),a}function ot(t,e){return function(t,e,n,o,r){return n.bind(e,t,o,r)}(t,this,1===t.length?et:nt,e.cache.create(),e.serializer)}function rt(){return JSON.stringify(arguments)}function at(){this.cache=Object.create(null)}at.prototype.has=function(t){return t in this.cache},at.prototype.get=function(t){return this.cache[t]},at.prototype.set=function(t,e){this.cache[t]=e};var it={create:function(){return new at}},st={MAIN:"svelte-draggable",DRAGGING:"svelte-draggable-dragging",DRAGGED:"svelte-draggable-dragged"},lt=(t,e={})=>{let n,o,{bounds:r,axis:a="both",gpuAcceleration:i=!0,applyUserSelectHack:s=!0,disabled:l=!1,ignoreMultitouch:c=!1,grid:u,position:d,cancel:f,handle:h,defaultClass:p=st.MAIN,defaultClassDragging:m=st.DRAGGING,defaultClassDragged:g=st.DRAGGED,defaultPosition:b={x:0,y:0},onDragStart:y,onDrag:v,onDragEnd:w}=e,$=!1,[x,E]=[0,0],[A,k]=[0,0],[N,D]=[0,0],[C,G]=[b.x,b.y];ft(C,G,t,i);let _,R,O,M,S="",L=!!d;const I=addEventListener;I("touchstart",P,!1),I("touchend",j,!1),I("touchmove",T,!1),I("mousedown",P,!1),I("mouseup",j,!1),I("mousemove",T,!1),t.style.touchAction="none";const B=()=>{let e=t.offsetWidth/R.width;return isNaN(e)&&(e=1),e};function P(e){if(l)return;if(c&&"touchstart"===e.type&&e.touches.length>1)return;if(t.classList.add(p),O=function(t,e){if(!t)return e;const n=e.querySelector(t);if(null===n)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return n}(h,t),M=function(t,e){if(!t)return;const n=e.querySelector(t);if(null===n)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return n}(f,t),n=["both","x"].includes(a),o=["both","y"].includes(a),void 0!==r&&(_=function(t,e){if("object"==typeof t){const[e,n]=[window.innerWidth,window.innerHeight],{top:o=0,left:r=0,right:a=0,bottom:i=0}=t;return{top:o,right:e-a,bottom:n-i,left:r}}if("parent"===t)return e.parentNode.getBoundingClientRect();const n=document.querySelector(t);if(null===n)throw new Error("The selector provided for bound doesn't exists in the document.");return n.getBoundingClientRect()}(r,t)),R=t.getBoundingClientRect(),ut(h)&&ut(f)&&h===f)throw new Error("`handle` selector can't be same as `cancel` selector");if(null==M?void 0:M.contains(O))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");if(O.contains(e.target)&&!(null==M?void 0:M.contains(e.target))&&($=!0),!$)return;s&&(S=document.body.style.userSelect,document.body.style.userSelect="none"),function(t){const e={offsetX:x,offsetY:E};t.dispatchEvent(new CustomEvent("svelte-drag:start",{detail:e})),null==y||y(e)}(t);const{clientX:i,clientY:u}=ct(e)?e.touches[0]:e,d=B();n&&(A=i-C/d),o&&(k=u-G/d),_&&(N=i-R.left,D=u-R.top)}function j(e){l||$&&(t.classList.remove(m),t.classList.add(g),s&&(document.body.style.userSelect=S),function(t){const e={offsetX:x,offsetY:E};t.dispatchEvent(new CustomEvent("svelte-drag:end",{detail:e})),null==w||w(e)}(t),n&&(A=x),n&&(k=E),$=!1)}function T(e){if(!$)return;t.classList.add(m),e.preventDefault(),R=t.getBoundingClientRect();const{clientX:r,clientY:a}=ct(e)?e.touches[0]:e;let[s,l]=[r,a];const c=B();if(_){const t={left:_.left+N,top:_.top+D,right:_.right+N-R.width,bottom:_.bottom+D-R.height};s=Math.min(Math.max(s,t.left),t.right),l=Math.min(Math.max(l,t.top),t.bottom)}if(Array.isArray(u)){let[t,e]=u;if(isNaN(+t)||t<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+e)||e<0)throw new Error("2nd argument of `grid` must be a valid positive number");let[n,o]=[s-A,l-k];if([n,o]=dt([Math.floor(t/c),Math.floor(e/c)],n,o),!n&&!o)return;[s,l]=[A+n,k+o]}n&&(x=(s-A)*c),o&&(E=(l-k)*c),[C,G]=[x,E],function(t,e,n){const o={offsetX:e,offsetY:n};t.dispatchEvent(new CustomEvent("svelte-drag",{detail:o})),null==v||v(o)}(t,x,E),Promise.resolve().then((()=>ft(x,E,t,i)))}return{destroy:()=>{const t=removeEventListener;t("touchstart",P,!1),t("touchend",j,!1),t("touchmove",T,!1),t("mousedown",P,!1),t("mouseup",j,!1),t("mousemove",T,!1)},update:e=>{var n,o,d,b,y,v,w,$,A,k,N;a=e.axis||"both",l=null!=(n=e.disabled)&&n,c=null!=(o=e.ignoreMultitouch)&&o,h=e.handle,r=e.bounds,f=e.cancel,s=null==(d=e.applyUserSelectHack)||d,u=e.grid,i=null==(b=e.gpuAcceleration)||b;const D=t.classList.contains(g);t.classList.remove(p,g),p=null!=(y=e.defaultClass)?y:st.MAIN,m=null!=(v=e.defaultClassDragging)?v:st.DRAGGING,g=null!=(w=e.defaultClassDragged)?w:st.DRAGGED,t.classList.add(p),D&&t.classList.add(g),L&&(C=x=null!=(A=null==($=e.position)?void 0:$.x)?A:x,G=E=null!=(N=null==(k=e.position)?void 0:k.y)?N:E,Promise.resolve().then((()=>ft(x,E,t,i))))}}};function ct(t){return Boolean(t.touches&&t.touches.length)}function ut(t){return"string"==typeof t}var dt=function(t,e){var n=e&&e.cache?e.cache:it,o=e&&e.serializer?e.serializer:rt;return(e&&e.strategy?e.strategy:ot)(t,{cache:n,serializer:o})}((([t,e],n,o)=>[Math.round(n/t)*t,Math.round(o/e)*e]));function ft(t,e,n,o){n.style.transform=o?`translate3d(${+t}px, ${+e}px, 0)`:`translate(${+t}px, ${+e}px)`}function ht(t,e,n){const o=t.slice();return o[9]=e[n],o[10]=e,o[11]=n,o}function pt(t){let e,n,r,a,i,s,l,c=t[9].name+"";function m(){return t[5](t[9],t[10],t[11])}function y(...e){return t[6](t[11],...e)}return{c(){e=h("div"),n=h("span"),r=p(c),b(n,"tabindex",a=t[11]+1),b(n,"class",i="select-none "+(t[9].enabled?"text-white":"text-gray-300")),b(e,"class","cursor-pointer inline-block m-2")},m(t,o){d(t,e,o),u(e,n),u(n,r),s||(l=[g(n,"click",m),g(n,"keydown",y)],s=!0)},p(e,o){t=e,1&o&&c!==(c=t[9].name+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(r,c),1&o&&i!==(i="select-none "+(t[9].enabled?"text-white":"text-gray-300"))&&b(n,"class",i)},d(t){t&&f(e),s=!1,o(l)}}}function mt(e){let n,a,i,s,l,c,v,w,$,x,E,A,k,N,D,C=e[3]()?"enable":"disable",G=e[0],_=[];for(let t=0;t<G.length;t+=1)_[t]=pt(ht(e,G,t));return{c(){n=h("div");for(let t=0;t<_.length;t+=1)_[t].c();a=m(),i=h("span"),s=p("("),l=p(C),c=p(" all)"),w=m(),$=h("label"),x=h("input"),A=m(),k=h("span"),k.textContent="s",b(i,"tabindex",v=e[0].length+1),b(x,"class","rounded-sm bg-tran"),b(x,"tabindex",E=e[0].length+2),b(n,"class","text-white select-none fixed rounded-md top-3 text-center w-9/12 bg-gray-900 shadow-lg inset-x-0 mx-auto bg-opacity-25 backdrop-blur-md")},m(o,f){d(o,n,f);for(let t=0;t<_.length;t+=1)_[t].m(n,null);var h;u(n,a),u(n,i),u(i,s),u(i,l),u(i,c),u(n,w),u(n,$),u($,x),y(x,e[1]),u($,A),u($,k),N||(D=[g(i,"click",e[4]),g(i,"keydown",e[7]),g(x,"input",e[8]),(h=lt.call(null,n,{bounds:"body"}),h&&r(h.destroy)?h.destroy:t)],N=!0)},p(t,[e]){if(5&e){let o;for(G=t[0],o=0;o<G.length;o+=1){const r=ht(t,G,o);_[o]?_[o].p(r,e):(_[o]=pt(r),_[o].c(),_[o].m(n,a))}for(;o<_.length;o+=1)_[o].d(1);_.length=G.length}1&e&&v!==(v=t[0].length+1)&&b(i,"tabindex",v),1&e&&E!==(E=t[0].length+2)&&b(x,"tabindex",E),2&e&&x.value!==t[1]&&y(x,t[1])},i:t,o:t,d(t){t&&f(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(_,t),N=!1,o(D)}}}function gt(t,e,n){let o,r;function a(t,e){if("Enter"==t.key&&t.shiftKey){const t=o[e].enabled;c(q,o=o.map((e=>Object.assign({},e,{enabled:t}))),o)}"Enter"==t.key&&c(q,o[e].enabled=!o[e].enabled,o)}l(t,q,(t=>n(0,o=t))),l(t,H,(t=>n(1,r=t)));const i=()=>!o.every((t=>t.enabled)),s=()=>{c(q,o=o.map((t=>Object.assign({},t,{enabled:i()}))),o)};return[o,r,a,i,s,(t,e,n)=>c(q,e[n].enabled=!t.enabled,o),(t,e)=>a(e,t),t=>{"Enter"==t.key&&s()},function(){r=this.value,H.set(r)}]}class bt extends K{constructor(t){super(),T(this,t,gt,mt,a,{})}}function yt(t){let e,n,o,r,a,i;return e=new tt({}),a=new bt({}),{c(){I(e.$$.fragment),n=m(),o=h("div"),r=m(),I(a.$$.fragment),b(o,"class","fixed w-screen h-screen bg-contain bg-no-repeat bg-center bg-gray-500"),v(o,"background-image","url('"+t[0].url+"')")},m(t,s){B(e,t,s),d(t,n,s),d(t,o,s),d(t,r,s),B(a,t,s),i=!0},p(t,[e]){(!i||1&e)&&v(o,"background-image","url('"+t[0].url+"')")},i(t){i||(S(e.$$.fragment,t),S(a.$$.fragment,t),i=!0)},o(t){L(e.$$.fragment,t),L(a.$$.fragment,t),i=!1},d(t){P(e,t),t&&f(n),t&&f(o),t&&f(r),P(a,t)}}}function vt(t,e,n){let o;return l(t,Q,(t=>n(0,o=t))),[o]}return new class extends K{constructor(t){super(),T(this,t,vt,yt,a,{})}}({target:document.body})}();
